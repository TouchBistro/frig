!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.Frig=t(require("react")):e.Frig=t(e.React)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(12),u=n(5),a=n(13);e.exports={Form:r,Input:o,dsl:a,util:u,ValueLinkedSelect:i,typeMapping:n(11),HigherOrderComponents:{Boolean:n(14),Focusable:n(15)},defaultTheme:function(e){if(null==e)return form.defaultProps.theme;if(null==e.component)throw"Invalid theme. Expected an object";r.originalClass.defaultProps.theme=e,o.originalClass.defaultProps.theme=e}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},s=n(2),l=n(3),p=n(9),c=n(10),f=n(6),v=function(e){function t(){o(this,v),a(Object.getPrototypeOf(v.prototype),"constructor",this).apply(this,arguments),this._childComponentsByName=[]}i(t,e),u(t,[{key:"validate",value:function(){return 0===this._childComponents().filter(function(e){return!e.validate()}).length}},{key:"isValid",value:function(){return 0===this._childComponents().filter(function(e){return!e.isValid()}).length}},{key:"isModified",value:function(){return 0!==this._childComponents().filter(function(e){return e.isModified()}).length}},{key:"resetModified",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._childComponents()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.resetModified()}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"reset",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._childComponents()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.reset()}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"componentWillMount",value:function(){this._updateDataLink(this.props)}},{key:"componentWillReceiveProps",value:function(e){this._updateDataLink(e)}},{key:"render",value:function(){if(this.props.nestedForm)return s.DOM.div({},this._friggingChildren());var e=this.props.theme.component("form"),t=this._themedFormProps(),n=this._friggingChildren();return s.createElement(e,t,n)}},{key:"_themedFormProps",value:function(){var e=Object.assign({},this.props);return e.formHtml=Object.assign({},e.formHtml||{},{ref:"form",onSubmit:this._onSubmit.bind(this)}),e}},{key:"_typeMapping",value:function(){return Object.assign({},n(11),this.props.theme.type_mapping)}},{key:"_updateDataLink",value:function(e){var t=this,n=e.data||{},r=n.requestChange,o={value:(r?n.value:n)||{},requestChange:r||function(e){return t._updateDataLink({data:e})}};this.setState({dataLink:o})}},{key:"_data",value:function(){return this.state.dataLink.value}},{key:"_friggingChildren",value:function(){return this.props.form(this._componentClasses())}},{key:"childComponentWillMount",value:function(e,t){this._childComponentsByName[e]=t}},{key:"childComponentWillUnmount",value:function(e){delete this._childComponentsByName[e]}},{key:"_childComponents",value:function(){var e=[],t=this._childComponentsByName;for(var n in t)e.push(t[n]);return e}},{key:"_onChildRequestChange",value:function(e,t){this.state.dataLink.requestChange(Object.assign({},this._data(),r({},e,t)))}},{key:"_onSubmit",value:function(e){return this.validate()?void this.props.onSubmit(e):e.preventDefault()}},{key:"_guessInputType",value:function(e){var t=typeof e.valueLink.value;return null!=e.type?e.type:e.multiple||Array.isArray(e.initialValue)?"multiselect":null!=e.options?"select":"boolean"===t?"boolean":"number"===t?"float":e.name.match(/password$/i)?"password":"string"}},{key:"_getThemedInputComponent",value:function(e,t){if(null==t)throw e.name+": No type mapping found for type "+e.type;var n=this.props.theme.component(t);if(null==n)throw e.name+": No "+t+" component found in theme";return n}},{key:"_componentClasses",value:function(){return null!=this._componentClassesCache?this._componentClassesCache:this._componentClassesCache={errors:this._errorsComponentClass(),input:this._inputComponentClass(),nestedFields:this._nestedFieldsComponentClass(),submit:this._submitComponentClass()}}},{key:"_errorsComponentClass",value:function(){var e=this._typeMapping().errors,t=this._getThemedInputComponent({},e.component),n=this.props,r=n.layout,o=n.align;return p(t,{defaults:{key:"errors",layout:r,align:o},overrides:this._errorsOverrides.bind(this)})}},{key:"_errorsOverrides",value:function(){return{type:"errors",errors:this.props.errors.base||[]}}},{key:"_nestedFieldsComponentClass",value:function(){return p(c,{defaults:this._nestedFieldsDefaults.bind(this)})}},{key:"_nestedFieldsDefaults",value:function(e){var t=e.name;return{key:t+"-nestedfields",layout:this.props.layout,align:this.props.align,theme:this.props.theme,typeMapping:this.props.typeMapping,onComponentMount:this.childComponentWillMount.bind(this,[t]),onComponentUnmount:this.childComponentWillUnmount.bind(this,[t]),data:{value:this._data()[t]||{},requestChange:this._onChildRequestChange.bind(this,[t])},internalErrors:this.props.errors[t]}}},{key:"_submitComponentClass",value:function(){var e=this._typeMapping().submit,t=this._getThemedInputComponent({},e.component),n=this.props,r=n.layout,o=n.align;return p(t,{defaults:{key:"submit",layout:r,align:o},overrides:this._submitOverrides.bind(this)})}},{key:"_submitOverrides",value:function(e){return{type:"submit",inputHtml:{defaultValue:e.value}}}},{key:"_inputComponentClass",value:function(){return p(l,{defaults:this._inputDefaults.bind(this),overrides:this._inputOverrides.bind(this)})}},{key:"_inputDefaults",value:function(e){var t=e.name;return{name:t,layout:this.props.layout,align:this.props.align,key:t+"-input",valueLink:{value:this._data()[t],requestChange:this._onChildRequestChange.bind(this,[t])},onComponentMount:this.childComponentWillMount.bind(this,[t]),onComponentUnmount:this.childComponentWillUnmount.bind(this,[t]),internalErrors:this.props.errors[t]}}},{key:"_inputOverrides",value:function(e){var t=e.name,n=this._guessInputType(e),r=this._typeMapping()[n],o=this._getThemedInputComponent(e,r.component),i={type:r.htmlInputType};return Object.assign({},e,{type:n,component:o,ref:t+"Input",inputHtml:Object.assign(i,e.inputHtml)})}}],[{key:"propTypes",value:{data:s.PropTypes.object.isRequired,errors:s.PropTypes.object.isRequired,form:s.PropTypes.func.isRequired,theme:s.PropTypes.object.isRequired,typeMapping:s.PropTypes.objectOf(s.PropTypes.string),layout:s.PropTypes.string.isRequired,align:s.PropTypes.string.isRequired,onSubmit:s.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{errors:[],theme:void 0,typeMapping:{},layout:"vertical",align:"left",onSubmit:function(){}},enumerable:!0}]);var v=t;return t=f({as:Object})(t)||t}(s.Component);t["default"]=v,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},s=n(2),l=n(4),p=n(5),c=p.entries,f=p.humanize,v=n(6),y=function(e){function t(){r(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments),this.state={modified:!1,validationRequested:!1}}o(t,e),u(t,[{key:"validate",value:function(){return this.setState({validationRequested:!0}),this.isValid()}},{key:"isValid",value:function(){return null==this._errors()}},{key:"isModified",value:function(){return this.state.modified}},{key:"resetModified",value:function(){this.setState({modified:!1})}},{key:"reset",value:function(){this.setState({modified:!1,validationRequested:!1})}},{key:"componentWillMount",value:function(){this.props.onComponentMount(this)}},{key:"componentWillUnmount",value:function(){this.props.onComponentUnmount(this)}},{key:"render",value:function(){return s.createElement(this.props.component,this._themedInputProps())}},{key:"_errors",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._value():arguments[0],t=this.props.errors.slice(),n=(this.isModified()||this.state.validationRequested)&&this.props.validate;if(n){var r=!0,o=!1,u=void 0;try{for(var a,s=c(this._validations())[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var p=i(a.value,2),f=p[0],v=p[1];if(v!==!1&&null!=v){var y={data:this.props.data,name:this.props.name,value:e,opts:v};t=t.concat(l[f](y)||[])}}}catch(h){o=!0,u=h}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw u}}}return 0===t.length&&(t=void 0),t}},{key:"_value",value:function(){return this.props.valueLink.value}},{key:"_themedInputProps",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.title||f(e.name),n={title:t,label:t,placeholder:t},r=Object.assign(n,e),o={options:(e.options||[]).map(this._normalizeOption),modified:this.isModified(),labelHtml:Object.assign({},r.labelHtml||{},{htmlFor:r.name}),inputHtml:Object.assign({},r.inputHtml||{},{onBlur:this._onBlur.bind(this),autoFocus:r.autoFocus,className:r.className,disabled:r.disabled,multiple:r.multiple,name:r.name,placeholder:r.placeholder,ref:"input"}),valueLink:{value:this._value(),requestChange:this._onChange.bind(this)},errors:this._errors()};return Object.assign(r,o)}},{key:"_normalizeOption",value:function(e){return null==e?void 0:null!=e.label&&null!=e.value?e:("object"==typeof e&&1===e.length&&(e=e[0]),"object"==typeof e&&2===e.length?{value:e[0],label:e[1]}:{value:e,label:e})}},{key:"_validations",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t={required:!0},n={},r=!0,o=!1,u=void 0;try{for(var a,s=c(l)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var p=i(a.value,1),f=p[0];n[f]=null==e[f]?t[f]:e[f]}}catch(v){o=!0,u=v}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw u}}return n}},{key:"_onChange",value:function(e,t){if("submit"!==this.props.type){(t||{}).setModified!==!1&&this.setState({modified:!0});var n=null==this._errors(e);this.props.valueLink.requestChange(e,n),this.props.onChange(e,n),n&&this.props.onValidChange(e,n)}}},{key:"_onBlur",value:function(){this.validate();var e=this.props.inputHtml;null!=e&&null!=e.onBlur&&e.onBlur()}}],[{key:"propTypes",value:{name:s.PropTypes.string.isRequired,component:s.PropTypes.func.isRequired,valueLink:s.PropTypes.object.isRequired,theme:s.PropTypes.object.isRequired,errors:s.PropTypes.arrayOf(s.PropTypes.string).isRequired,type:s.PropTypes.string,options:s.PropTypes.array,layout:s.PropTypes.string,className:s.PropTypes.string,disabled:s.PropTypes.bool,multiple:s.PropTypes.bool,saved:s.PropTypes.bool,validate:s.PropTypes.bool.isRequired,onChange:s.PropTypes.func.isRequired,onValidChange:s.PropTypes.func.isRequired,onComponentMount:s.PropTypes.func.isRequired,onComponentUnmount:s.PropTypes.func.isRequired},enumerable:!0},{key:"defaultProps",value:{theme:void 0,validate:!0,saved:!1,errors:[],onChange:function(){},onValidChange:function(){},onComponentMount:function(){},onComponentUnmount:function(){}},enumerable:!0}]);var n=t;return t=v({as:Array})(t)||t}(s.Component);t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";e.exports={required:function(e){var t=e.value;return null!=t&&""!==t?void 0:"This field is required."},min:function(e){var t=e.value,n=e.opts;return t>=n||null!=t||""===t?void 0:"Value cannot be less than "+n},max:function(e){var t=e.value,n=e.opts;return n>=t||null!=t||""===t?void 0:"Value cannot be greater than "+n}}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=void 0,i=void 0,u=e.exports={entries:i=function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},isConfigObj:o=function(e){var t=typeof e;return"string"!==t&&"number"!==t&&"boolean"!==t&&"function"!==t&&"undefined"!==t&&null!=e&&null==e.length},humanize:function(e){if(null==e)return void 0;var t=/([A-Z]|[0-9]+|_[a-z])/g,n=e.replace(t," $1").replace(/_/g,"");return n[0].toUpperCase()+n.slice(1).toLowerCase()},clone:function(e){var t={},n=!0,o=!1,u=void 0;try{for(var a,s=i(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=r(a.value,2),p=l[0],c=l[1];t[p]=c}}catch(f){o=!0,u=f}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw u}}return t},merge:function(e){e=e||{};var t=!0,n=!1,o=void 0;try{for(var u=arguments.length,a=Array(u>1?u-1:0),s=1;u>s;s++)a[s-1]=arguments[s];for(var l,p=a[Symbol.iterator]();!(t=(l=p.next()).done);t=!0){var c=l.value,f=!0,v=!1,y=void 0;try{for(var h,d=i(c||{})[Symbol.iterator]();!(f=(h=d.next()).done);f=!0){var m=r(h.value,2),b=m[0],g=m[1];e[b]=g}}catch(_){v=!0,y=_}finally{try{!f&&d["return"]&&d["return"]()}finally{if(v)throw y}}}}catch(_){n=!0,o=_}finally{try{!t&&p["return"]&&p["return"]()}finally{if(n)throw o}}return e},promisedTimeout:function(e){return new Promise(function(t){return setTimeout(t,e)})},map:function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;n.push(t(s))}}catch(l){o=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n},mapObj:function(e,t){var n={},o=!0,u=!1,a=void 0;try{for(var s,l=i(e)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var p=r(s.value,2),c=p[0],f=p[1];n[c]=t(c,f)}}catch(v){u=!0,a=v}finally{try{!o&&l["return"]&&l["return"]()}finally{if(u)throw a}}return n},setDefaults:function(){for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];var s=t.pop();"function"!=typeof s&&(t.push(s),s=function(e,t){return t});var l=t[t.length-1]||{},p=t.slice(0).reverse(),c=function(e){var n=void 0,r=!0,o=!1,i=void 0;try{for(var u,a=p[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var l=u.value;null==n&&(n=l[e])}}catch(c){o=!0,i=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return s(e,n,t)},f=!0,v=!1,y=void 0;try{for(var h,d=function(){var e=r(h.value,2),i=e[0],a=e[1];if(o(t[0][i])){var p=u.map(t,function(e){return e[i]||{}});a=u.setDefaults.apply(u,n(p).concat([s]))}else a=c(i);l[i]=a},m=i(u.merge.apply(u,[{}].concat(t)))[Symbol.iterator]();!(f=(h=m.next()).done);f=!0)d()}catch(b){v=!0,y=b}finally{try{!f&&m["return"]&&m["return"]()}finally{if(v)throw y}}return l},capitalize:function(e){return null==e?void 0:""+e[0].toUpperCase()+e.slice(1)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2),s=n(7),l=function(e){function t(){r(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.HigherOrderComponents.ErrorNormalizer"}o(t,e),i(t,[{key:"_toErrorObject",value:function(e){var t=Array.isArray(e);return null==e||t&&0==e.length?{}:(t&&(e={base:e}),e)}},{key:"_errors",value:function(){for(var e={},t=["errors","internalErrors"],n=0;n<t.length;n++){var r=t[n],o=this._toErrorObject(this.props[r]);for(var i in o)e[i]=(e[i]||[]).concat(o[i])}return e}},{key:"_normalizedErrors",value:function(){var e=this._errors(),t=this.opts().as;if(t==Array){var n=[];for(var r in e)n=n.concat(e[r]);return n}if(t==Object)return e;throw'ErrorsNormalizer "as" attribute must be either Array or Object'}},{key:"render",value:function(){var e=Object.assign({},this.props,{ref:"child",errors:this._normalizedErrors()});return delete e.internalErrors,a.createElement(this.componentClass(),e)}}],[{key:"propTypes",value:{errors:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.array]),internalErrors:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.array])},enumerable:!0}]);var n=t;return t=s()(t)||t}(a.Component);t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(8);e.exports=function(){return function(e){return function(t){return function(n){var s=n.prototype.displayName;return function(l){function p(){r(this,c),u(Object.getPrototypeOf(c.prototype),"constructor",this).apply(this,arguments),this.displayName=e.prototype.displayName+"("+s+")"}o(p,l),i(p,[{key:"componentClass",value:function(){return n}},{key:"opts",value:function(){return t}}],[{key:"originalClass",value:n.originalClass||n,enumerable:!0}]);var c=p;return p=a(n)(p)||p}(e)}}}}},function(e,t){"use strict";e.exports=function(e){return function(t){var n=["constructor","state","props","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","render"],r=Object.getOwnPropertyNames(e.prototype),o=!0,i=!1,u=void 0;try{for(var a,s=function(){var e=a.value;return-1!=n.indexOf(e)||null!=t[e]?"continue":void(e.startsWith("_")||(t.prototype[e]=function(){var t;return(t=this.refs.child)[e].apply(t,arguments)}))},l=r[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){s()}}catch(p){i=!0,u=p}finally{try{!o&&l["return"]&&l["return"]()}finally{if(i)throw u}}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2);e.exports=function(e,t){var n=e.prototype.displayName;return function(s){function l(){r(this,l),u(Object.getPrototypeOf(l.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.HigherOrderComponents.PropsClosure("+n+")"}return o(l,s),i(l,[{key:"componentDidMount",value:function(){var e=this,n=arguments,r=function(t){e[t]=function(){var r;return(r=e.refs.child)[t].apply(r,n)}};for(var o in t.functionProxies||[])r(o)}},{key:"_get",value:function(e,n){return"function"==typeof t[e]?t[e](n):t[e]}},{key:"render",value:function(){var t={};return t=Object.assign(t,this._get("defaults",this.props)),t=Object.assign(t,this.props),t=Object.assign(t,this._get("overrides",t)),t.key="child",a.createElement(e,t)}}],[{key:"defaultProps",value:{ref:t.ref,key:t.key},enumerable:!0}]),l}(a.Component)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2),s=a.DOM.div,l=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={invalidForms:[]}}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.onComponentMount(this)}},{key:"componentWillUnmount",value:function(){this.props.onComponentUnmount(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.invalidForms,n=this._dataValues(e).length;t=t.slice(0,n),this.setState({invalidForms:t})}},{key:"validate",value:function(){return this._forms().forEach(function(e){return e.validate()}),this.isValid()}},{key:"isValid",value:function(){return this._forms().every(function(e){return e.isValid()})}},{key:"isModified",value:function(){return this._forms().some(function(e){return e.isModified()})}},{key:"resetModified",value:function(){this._forms().forEach(function(e){return e.resetModified()})}},{key:"reset",value:function(){this._forms().forEach(function(e){return e.reset()})}},{key:"_forms",value:function(){var e=this;return Object.keys(this.refs||{}).map(function(t){return e.refs[t]})}},{key:"_errorsForKey",value:function(e,t){return Array.isArray(e)?e[t]:e}},{key:"_formProps",value:function(e){var t=this,n=e.data,r=e.key;return Object.assign({},this.props,{key:r,ref:r,form:function(e){return t.props.form(e,r)},nestedForm:!0,errors:this._errorsForKey(this.props.errors,r),internalErrors:this._errorsForKey(this.props.internalErrors,r),data:{value:n,requestChange:this._onFormRequestChange.bind(this,r)}})}},{key:"_onFormRequestChange",value:function(e,t,n){var r=this.props.data.value;Array.isArray(r)?(r=r.slice(),r[e]=t):r=t;var o=this.state.invalidForms;n?o[e]=!0:delete o[e],n=0===o.filter(function(e){return e===!0}).length,this.setState({invalidForms:o}),this.props.data.requestChange(r,n)}},{key:"_dataValues",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.data.value||[];return Array.isArray(t)?t:[t]}},{key:"_renderForm",value:function(e){var t=n(1);return a.createElement(t,e)}},{key:"render",value:function(){var e=this,t=0,n=this._dataValues();return s({},n.map(function(n){return e._renderForm(e._formProps({data:n,key:t++}))}))}}],[{key:"propTypes",value:{form:a.PropTypes.func.isRequired,data:a.PropTypes.object.isRequired,theme:a.PropTypes.object.isRequired,typeMapping:a.PropTypes.objectOf(a.PropTypes.string),errors:a.PropTypes.object},enumerable:!0}]),t}(a.Component);t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";e.exports={form:{component:"form"},errors:{component:"errors"},submit:{component:"submit",htmlInputType:"submit"},string:{component:"input",htmlInputType:"string"},password:{component:"input",htmlInputType:"password"},email:{component:"input",htmlInputType:"email"},url:{component:"input",htmlInputType:"url"},tel:{component:"input",htmlInputType:"tel"},"boolean":{component:"checkbox",htmlInputType:"checkbox"},text:{component:"text"},file:{component:"file",htmlInputType:"file"},"float":{component:"input",htmlInputType:"number"},"switch":{component:"switch"},time:{component:"timepicker"},select:{component:"select"},typeahead:{component:"typeahead"},color:{component:"color"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2),s=a.DOM,l=s.select,p=s.option,c=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"componentWillMount",value:function(){0!==(this.props.options||[]).length&&this._setInitialValue(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=0!==(e.options||[]).length;t&&null==e.valueLink.value&&this._setInitialValue(e),t||null==e.valueLink.value||e.valueLink.requestChange(void 0,{setModified:!1})}},{key:"_setInitialValue",value:function(e){var t=e.options[0].value;e.valueLink.requestChange(t,{setModified:!1})}},{key:"_getValue",value:function(){var e=a.findDOMNode(this.refs.input),t={},n=!0,r=!1,o=void 0;try{for(var i,u=this.props.options[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;t[s.value.toString()]=s.value}}catch(l){r=!0,o=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw o}}return"select-multiple"===e.type?function(){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e.options[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;s.selected&&n.push(t[s.value])}}catch(l){o=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}():t[e.value]||e.value}},{key:"_onChange",value:function(){this.props.valueLink.requestChange(this._getValue())}},{key:"_inputHtml",value:function(){var e=this.props.valueLink.value;this.props.multiple&&(e=e.map(function(e){return e.value.toString()}));var t=Object.assign({},this.props,{ref:"input",valueLink:{value:e,requestChange:this._onChange.bind(this)}});for(var n in["valueLink","options"])delete t[n];return t}},{key:"_selectOption",value:function(e){var t={key:"option-"+e.label,value:e.value};return p(t,e.label)}},{key:"render",value:function(){return l(this._inputHtml(),this.props.options.map(this._selectOption))}}],[{key:"propTypes",value:{options:a.PropTypes.array.isRequired,valueLink:a.PropTypes.object.isRequired},enumerable:!0}]),t}(a.Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(2),o=r.createFactory(n(1)),i=void 0,u={errors:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t=Object.assign({key:"frig-errors"},t),r.createElement(e,t)},input:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n=Object.assign({key:"frig-"+t},n,{name:t}),r.createElement(e,n)},nestedFields:function(e,t,n,o){return void 0===n&&(n={}),"function"==typeof n&&(o=n,n={}),n=Object.assign({key:"frig-"+t},n,{name:t,form:i.bind(window,o)}),r.createElement(e,n)},submit:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return 1===arguments.length&&"string"!=typeof t&&(n=t,t=void 0),n=Object.assign({key:"frig-submit",title:t},n),r.createElement(e,n)}};i=function(e,t){var n={};for(var r in u)n[r]=u[r].bind(window,t[r]);for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;o>a;a++)i[a-2]=arguments[a];return e.apply(void 0,[n].concat(i))},e.exports={frig:function(e,t){var n=Object.assign({},e,{form:i.bind(window,t)});return o(n)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2);e.exports=function(e){var t=e.prototype.displayName;return function(n){function s(){r(this,s),u(Object.getPrototypeOf(s.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.HigherOrderComponents.Boolean("+t+")"}return o(s,n),i(s,[{key:"componentWillMount",value:function(){this._normalizeValue(this.props)}},{key:"componentWillReceiveProps",value:function(e){this._normalizeValue(e)}},{key:"_normalizeValue",value:function(e){var t=e.valueLink.value;t!==this.props.offValue&&t!==this.props.onValue&&this._change(null!=t,{setModified:!1})}},{key:"_change",value:function(e){for(var t,n=e?this.props.onValue:this.props.offValue,r=arguments.length,o=Array(r>1?r-1:0),i=1;r>i;i++)o[i-1]=arguments[i];(t=this.props.valueLink).requestChange.apply(t,[n].concat(o))}},{key:"render",value:function(){var t=Object.assign({},this.props,{valueLink:{value:this.props.valueLink.value===this.props.onValue,requestChange:this._change.bind(this)}});return a.createElement(e,t)}}],[{key:"propTypes",value:{valueLink:a.PropTypes.object.isRequired,onValue:a.PropTypes.any.isRequired,offValue:a.PropTypes.any.isRequired},enumerable:!0},{key:"defaultProps",value:{onValue:!0,offValue:!1},enumerable:!0}]),s}(a.Component)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,u=n;a=l=s=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(u)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=u,r=!0}},a=n(2);e.exports=function(e){var t=e.prototype.displayName;return function(n){function s(){r(this,s),u(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),this.state={focused:!1},this.displayName="Frig.HigherOrderComponents.Focusable("+t+")",this._onDocumentClick=this._onDocumentClick.bind(this),this._onFocus=this._onFocus.bind(this)}return o(s,n),i(s,[{key:"componentDidMount",value:function(){window.addEventListener("click",this._onDocumentClick),window.addEventListener("focus",this._onFocus,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._onDocumentClick),window.removeEventListener("focus",this._onFocus)}},{key:"_onDocumentClick",value:function(e){this.setState({focused:this._containsDOMElement(e.target)})}},{key:"_onFocus",value:function(e){this.setState({focused:this._containsDOMElement(document.activeElement)})}},{key:"_containsDOMElement",value:function(e){var t=a.findDOMNode(this);return t==e||t.contains(e)}},{key:"render",value:function(){var t=Object.assign({},this.props,{focused:this.state.focused});return a.createElement(e,t)}}]),s}(a.Component)}}])});