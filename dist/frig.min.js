!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Frig=t(require("react"),require("react-dom")):e.Frig=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(null==e)return l["default"].defaultProps.theme;if("object"!==("undefined"==typeof e?"undefined":u(e)))throw new Error("Invalid Frig theme. Expected an object");return l["default"].defaultProps.theme=e,c["default"].defaultProps.theme=e,!0}Object.defineProperty(t,"__esModule",{value:!0}),t.factories=t.util=t.HigherOrderComponents=t.FieldsetText=t.Fieldset=t.FormErrorList=t.Submit=t.UnboundInput=t.Input=t.Form=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(1),l=o(a),s=n(4),f=o(s),p=n(5),c=o(p),d=n(9),y=o(d),h=n(10),m=o(h),v=n(11),b=o(v),g=n(13),_=o(g),P=n(7),T=o(P),O=n(8),j=o(O),w=n(14),C=r(w),F=n(15),k=o(F),x=n(16),q=o(x),R={Boolean:k["default"],Focusable:q["default"]};t["default"]={defaultTheme:i,typeMapping:j["default"]},t.Form=l["default"],t.Input=f["default"],t.UnboundInput=c["default"],t.Submit=y["default"],t.FormErrorList=m["default"],t.Fieldset=b["default"],t.FieldsetText=_["default"],t.HigherOrderComponents=R,t.util=T["default"],t.factories=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(2),c=r(p),d=n(3),y=r(d),h=(l=a=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Form",u=n,i(r,u)}return u(t,e),f(t,[{key:"componentWillMount",value:function(){if(!this.props.data)throw new Error("<Form data={} /> must always be defined, got: "+this.props.data);if(!this.props.onChange)throw new Error("<Form onChange={} /> must always be defined, got: "+this.props.onChange)}},{key:"render",value:function(){var e=this.props.theme.Form;return c["default"].createElement(e,s({},this._themedFormProps(),{ref:"form"}),this.props.children)}}]),t}(y["default"]),a.propTypes={data:c["default"].PropTypes.object.isRequired,onChange:c["default"].PropTypes.func.isRequired,errors:c["default"].PropTypes.object.isRequired,saved:c["default"].PropTypes.object.isRequired,theme:c["default"].PropTypes.object.isRequired,typeMapping:c["default"].PropTypes.objectOf(c["default"].PropTypes.string),layout:c["default"].PropTypes.string.isRequired,align:c["default"].PropTypes.string.isRequired,onSubmit:c["default"].PropTypes.func},a.defaultProps={errors:{},saved:{},theme:void 0,typeMapping:{},layout:"vertical",align:"left",onSubmit:function(){}},a.childContextTypes=y["default"].childContextTypes,l);t["default"]=h},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(2),c=r(p),d=(s=l=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,s=Array(l),f=0;l>f;f++)s[f]=arguments[f];return n=r=u(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._childComponentsByName={},r.childComponentWillMount=function(e,t){r._childComponentsByName[e]=t},r.childComponentWillUnmount=function(e){delete r._childComponentsByName[e]},r._onChildRequestChange=function(e,t){r.props.onChange(Object.assign({},r.props.data,o({},e,t)))},r._onSubmit=function(e){return r.validate()?r.props.onSubmit(e):e.preventDefault()},a=n,u(r,a)}return a(t,e),f(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.align,n=e.layout,r=e.theme,o=e.errors,i=e.saved,u=e.data;return{frigForm:{align:t,layout:n,theme:r,errors:o,saved:i,data:u,requestChildComponentChange:this._onChildRequestChange,childComponentWillMount:this.childComponentWillMount,childComponentWillUnmount:this.childComponentWillUnmount,submit:this._onSubmit}}}},{key:"validate",value:function(){return 0===this._childComponents().filter(function(e){return!e.validate()}).length}},{key:"isValid",value:function(){return 0===this._childComponents().filter(function(e){return!e.isValid()}).length}},{key:"isModified",value:function(){return 0!==this._childComponents().filter(function(e){return e.isModified()}).length}},{key:"modifications",value:function n(){var e=this,n={},t=Object.keys(this._childComponentsByName);return t.forEach(function(t){var r=e._childComponentsByName[t];if(r.isModified()){var o=null!=r.modifications;n[t]=o?r.modifications():!0}}),n}},{key:"resetModified",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._childComponents()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.resetModified()}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"reset",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._childComponents()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.reset()}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"formData",value:function(){return new FormData(this.refs.form)}},{key:"_themedFormProps",value:function(){var e=Object.assign({},this.props);return e.formHtml=Object.assign({},e.formHtml||{},{onSubmit:this._onSubmit.bind(this)}),e}},{key:"_childComponents",value:function(){var e=this._childComponentsByName;return Object.keys(e).map(function(t){return e[t]})}}]),t}(c["default"].Component),l.childContextTypes={frigForm:c["default"].PropTypes.object},l.propTypes={align:c["default"].PropTypes.string.isRequired,layout:c["default"].PropTypes.string.isRequired,theme:c["default"].PropTypes.object.isRequired,errors:c["default"].PropTypes.object.isRequired,saved:c["default"].PropTypes.object.isRequired,data:c["default"].PropTypes.object.isRequired,onChange:c["default"].PropTypes.func.isRequired,onSubmit:c["default"].PropTypes.func},s);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(2),c=r(p),d=n(5),y=r(d),h=(l=a=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Frig.Input",r._onChange=function(e,t){r.context.frigForm.requestChildComponentChange(r.props.name,e),r.props.onChange(e,t),t&&r.props.onValidChange(e,t)},u=n,i(r,u)}return u(t,e),f(t,[{key:"componentWillMount",value:function(){this.context.frigForm.childComponentWillMount(this.props.name,this)}},{key:"componentWillUnmount",value:function(){this.context.frigForm.childComponentWillUnmount(this.props.name,this)}},{key:"validate",value:function(){return this.refs.unboundInput.validate()}},{key:"isValid",value:function(){return this.refs.unboundInput.isValid()}},{key:"isModified",value:function(){return this.refs.unboundInput.isModified()}},{key:"resetModified",value:function(){return this.refs.unboundInput.resetModified()}},{key:"reset",value:function(){return this.refs.unboundInput.reset()}},{key:"render",value:function(){var e=this.context.frigForm.data[this.props.name];return c["default"].createElement(y["default"],s({},this.props,{ref:"unboundInput",errors:(this.props.errors||[]).slice().concat(this.context.frigForm.errors[this.props.name]||[]),saved:this.context.frigForm.saved[this.props.name],value:null==e?"":e,onChange:this._onChange}))}}]),t}(c["default"].Component),a.propTypes={name:c["default"].PropTypes.string.isRequired,errors:c["default"].PropTypes.arrayOf(c["default"].PropTypes.string),layout:c["default"].PropTypes.string,align:c["default"].PropTypes.string,className:c["default"].PropTypes.string,disabled:c["default"].PropTypes.bool,multiple:c["default"].PropTypes.bool,type:c["default"].PropTypes.string,options:c["default"].PropTypes.array,validate:c["default"].PropTypes.bool,onChange:c["default"].PropTypes.func.isRequired,onValidChange:c["default"].PropTypes.func.isRequired},a.contextTypes={frigForm:c["default"].PropTypes.shape({data:c["default"].PropTypes.object.isRequired,theme:c["default"].PropTypes.object.isRequired,errors:c["default"].PropTypes.object.isRequired,layout:c["default"].PropTypes.string.isRequired,align:c["default"].PropTypes.string.isRequired,saved:c["default"].PropTypes.object.isRequired,requestChildComponentChange:c["default"].PropTypes.func.isRequired,childComponentWillMount:c["default"].PropTypes.func.isRequired,childComponentWillUnmount:c["default"].PropTypes.func.isRequired}).isRequired},a.defaultProps={validate:!0,disabled:!1,errors:[],onChange:function(){},onValidChange:function(){}},l);t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,l,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),d=r(c),y=n(6),h=r(y),m=n(7),v=n(8),b=r(v),g=(l=a=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Frig.UnboundInput",r.state={modified:!1,validationRequested:!1},u=n,i(r,u)}return u(t,e),p(t,[{key:"componentWillMount",value:function(){this._warnIfDuplicateOptionValue()}},{key:"validate",value:function(){return this.setState({validationRequested:!0}),this.isValid()}},{key:"isValid",value:function(){return null==this._errors()}},{key:"isModified",value:function(){return this.state.modified}},{key:"resetModified",value:function(){this.setState({modified:!1})}},{key:"reset",value:function(){this.setState({modified:!1,validationRequested:!1})}},{key:"_errors",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._value():arguments[0],t=this.props.errors,n=(this.isModified()||this.state.validationRequested)&&this.props.validate;if(n){var r=Object.assign({},this.props);r.value=e;var o=!0,i=!1,u=void 0;try{for(var a,l=(0,m.entries)(this._validations())[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var s=f(a.value,2),p=s[0],c=s[1];c!==!1&&null!=c&&(t=t.concat(h["default"][p](r,c)||[]))}}catch(d){i=!0,u=d}finally{try{!o&&l["return"]&&l["return"]()}finally{if(i)throw u}}}return 0===t.length&&(t=void 0),t}},{key:"_value",value:function(){return this.props.value}},{key:"_themedInputProps",value:function(){var e=this.props.title||(0,m.humanize)(this.props.name),t={title:e,label:e,placeholder:e,layout:this.context.frigForm.layout,align:this.context.frigForm.align},n=Object.assign(t,this.props),r=n.inputHtml||{},o={options:this._normalizedOptions(),modified:this.isModified(),labelHtml:Object.assign({},n.labelHtml||{},{htmlFor:n.name}),inputHtml:Object.assign({},r,{onBlur:this._onBlur.bind(this),autoFocus:n.autoFocus,className:n.className,disabled:n.disabled,multiple:n.multiple,name:n.name,placeholder:n.placeholder,type:r.type||this._typeMapping().htmlInputType,ref:"input"}),value:this._value(),onChange:this._onChange.bind(this),errors:this._errors()};return Object.assign(n,o)}},{key:"_normalizedOptions",value:function(){return(this.props.options||[]).map(this._normalizeOption)}},{key:"_normalizeOption",value:function(e){return null!=e?null!=e.label?e:"object"===("undefined"==typeof e?"undefined":s(e))&&1===e.length?{value:e[0],label:e[0]}:"object"===("undefined"==typeof e?"undefined":s(e))&&2===e.length?{value:e[0],label:e[1]}:{value:e,label:e}:void 0}},{key:"_warnIfDuplicateOptionValue",value:function(){var e=this,t=this._normalizedOptions(),n=t.map(function(e){return e.value}),r={};n.forEach(function(t){r[t]&&console.warn("Frig: detected duplicate value in "+e.props.name+"'s <select>. Frig will only be able to select the first occurence of this value: "+t),r[t]=!0})}},{key:"_validations",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t={required:!0},n={},r=!0,o=!1,i=void 0;try{for(var u,a=(0,m.entries)(h["default"])[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var l=f(u.value,1),s=l[0];n[s]=null==e[s]?t[s]:e[s]}}catch(p){o=!0,i=p}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}},{key:"_onChange",value:function(e,t){var n=e;if(e&&e.target&&(n=e.target.value?e.target.value:""),"submit"!==this.props.type){(t||{}).setModified!==!1&&this.setState({modified:!0});var r=null==this._errors(n);this.props.onChange(n,r),r&&this.props.onValidChange(n,r)}}},{key:"_onBlur",value:function(){this.validate();var e=this.props.inputHtml;null!=e&&null!=e.onBlur&&e.onBlur()}},{key:"_guessInputType",value:function(){var e=this._value(),t="undefined"==typeof e?"undefined":s(e);return null!=this.props.type?this.props.type:null!=this.props.options?"select":"boolean"===t?"boolean":"number"===t?"float":this.props.name.match(/password/i)?"password":"string"}},{key:"_typeMapping",value:function(){var e=Object.assign({},b["default"],this.context.frigForm.theme.type_mapping);return e[this._guessInputType()]}},{key:"_themedComponent",value:function(){var e=this.props,t=e.name,n=e.type,r=this._typeMapping();if(null==r)throw new Error(t+": No type mapping found for type "+n);var o=this.context.frigForm.theme[r.component];if(null==o)throw new Error(t+": No "+r.component+" component found in theme");return o}},{key:"render",value:function(){var e=this._themedComponent();return d["default"].createElement(e,this._themedInputProps())}}]),t}(d["default"].Component),a.propTypes={name:d["default"].PropTypes.string.isRequired,errors:d["default"].PropTypes.array,layout:d["default"].PropTypes.string,align:d["default"].PropTypes.string,className:d["default"].PropTypes.string,disabled:d["default"].PropTypes.bool,multiple:d["default"].PropTypes.bool,type:d["default"].PropTypes.string,options:d["default"].PropTypes.array,validate:d["default"].PropTypes.bool,value:d["default"].PropTypes.any,saved:d["default"].PropTypes.bool,onChange:d["default"].PropTypes.func.isRequired,onValidChange:d["default"].PropTypes.func.isRequired,inputHtml:d["default"].PropTypes.object,title:d["default"].PropTypes.string},a.contextTypes={frigForm:d["default"].PropTypes.shape({theme:d["default"].PropTypes.object.isRequired,layout:d["default"].PropTypes.string.isRequired,align:d["default"].PropTypes.string.isRequired}).isRequired},a.defaultProps={validate:!0,disabled:!1,errors:[],onChange:function(){},onValidChange:function(){}},l);t["default"]=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={required:function(e){var t=e.value;if(!((e.options||[]).filter(function(e){return null==e.value}).length>0||null!=t&&""!==t))return"This field is required."},min:function(e,t){var n=e.value;if(!(n>=t||null==n||""===n))return"Value cannot be less than "+t},max:function(e,t){var n=e.value;if(!(t>=n||null==n||""===n))return"Value cannot be greater than "+t}};t["default"]=n},function(e,t){"use strict";var n=function(e){var t=Object.keys(e);return t.map(function(t){return[t,e[t]]})},r=function(e){if(null!=e){var t=/([A-Z]|[0-9]+|_[a-z])/g,n=e.replace(t," $1").replace(/_/g,"");return n[0].toUpperCase()+n.slice(1).toLowerCase()}};e.exports={entries:n,humanize:r}},function(e,t){"use strict";e.exports={string:{component:"Input",htmlInputType:"text"},password:{component:"Input",htmlInputType:"password"},email:{component:"Input",htmlInputType:"email"},url:{component:"Input",htmlInputType:"url"},tel:{component:"Input",htmlInputType:"tel"},"boolean":{component:"Checkbox",htmlInputType:"checkbox"},text:{component:"Text"},file:{component:"File",htmlInputType:"file"},"float":{component:"Number"},"switch":{component:"Switch"},time:{component:"Timepicker"},select:{component:"Select"},color:{component:"Color"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),u=function(e,t){var n=t.frigForm.theme.Submit;return i["default"].createElement(n,e)};u.contextTypes={frigForm:i["default"].PropTypes.shape({theme:i["default"].PropTypes.object.isRequired}).isRequired},u.displayName="Frig.Submit",t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),p=r(f),c=(l=a=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Frig.FormErrorList",u=n,i(r,u)}return u(t,e),s(t,[{key:"_errorsArray",value:function(){var e=this.context.frigForm.errors,t=this.props.name;return e[t]||[]}},{key:"render",value:function(){var e=this.context.frigForm.theme.FormErrorList;return p["default"].createElement(e,{errors:this._errorsArray()})}}]),t}(p["default"].Component),a.defaultProps={name:"base"},a.contextTypes={frigForm:p["default"].PropTypes.shape({errors:p["default"].PropTypes.object.isRequired,theme:p["default"].PropTypes.shape({FormErrorList:p["default"].PropTypes.any.isRequired}).isRequired}).isRequired},a.propTypes={name:p["default"].PropTypes.string},l);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,s,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(12),d=r(c),y=n(2),h=r(y),m=(s=l=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=u(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Fieldset",o=n,u(r,o)}return a(t,e),p(t,[{key:"componentWillMount",value:function(){this.context.frigForm.childComponentWillMount(this.props.name,this)}},{key:"componentWillUnmount",value:function(){this.context.frigForm.childComponentWillUnmount(this.props.name,this)}},{key:"validate",value:function(){return this._forms().forEach(function(e){return e.validate()}),this.isValid()}},{key:"isValid",value:function(){return this._forms().every(function(e){return e.isValid()})}},{key:"isModified",value:function(){return this._forms().some(function(e){return e.isModified()})}},{key:"modifications",value:function(){var e=this._forms().map(function(e){return e.modifications()}),t=this.context.frigForm.data[this.props.name]||[],n=Array.isArray(t);return n?e:e[0]}},{key:"resetModified",value:function(){this._forms().forEach(function(e){return e.resetModified()})}},{key:"reset",value:function(){this._forms().forEach(function(e){return e.reset()})}},{key:"_forms",value:function(){var e=this;return Object.keys(this.refs).map(function(t){return e.refs[t]})}},{key:"_contextAtIndex",value:function(e,t){var n=this;return t.reduce(function(t,r){if(null==n.context.frigForm[r])return{};var o=n.context.frigForm[r][n.props.name],i=Array.isArray(o)?o[e]:o;return t[r]=i||{},t},{})}},{key:"_formProps",value:function(e){var t=e.data,n=e.index,r=this._contextAtIndex(n,["errors","saved"]),o=r.errors,i=r.saved,u=this._onChange.bind(this,n);return f({},this.context.frigForm,{index:n,key:n,ref:n,errors:o,saved:i,data:t,onChange:u})}},{key:"_onChange",value:function(e,t){var n=this.context.frigForm.data[this.props.name],r=void 0;Array.isArray(n)?(r=[].concat(o(n)),r[e]=t):r=t,this.context.frigForm.requestChildComponentChange(this.props.name,r)}},{key:"_nestedFormDatas",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0],t=e.frigForm.data[this.props.name]||[];return Array.isArray(t)?t:[t]}},{key:"render",value:function(){var e=this,t=0,n=this.props.FieldsetNestedForm,r=this._nestedFormDatas();return h["default"].createElement("div",null,r.map(function(r){return h["default"].createElement(n,e._formProps({data:r,index:t++}),e.props.children)}))}}]),t}(h["default"].Component),l.contextTypes={frigForm:h["default"].PropTypes.shape({data:h["default"].PropTypes.object.isRequired,theme:h["default"].PropTypes.object.isRequired,errors:h["default"].PropTypes.object.isRequired,layout:h["default"].PropTypes.string.isRequired,saved:h["default"].PropTypes.object.isRequired,requestChildComponentChange:h["default"].PropTypes.func.isRequired,childComponentWillMount:h["default"].PropTypes.func.isRequired,childComponentWillUnmount:h["default"].PropTypes.func.isRequired}).isRequired},l.propTypes={name:h["default"].PropTypes.string.isRequired,children:h["default"].PropTypes.any.isRequired,FieldsetNestedForm:h["default"].PropTypes.func.isRequired},l.defaultProps={FieldsetNestedForm:d["default"]},s);t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function v(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:v(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(2),d=r(c),y=n(3),h=r(y),m=(l=a=function(e){function t(){var e,n,r,u;o(this,t);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.displayName="Frig.FieldsetNestedForm",u=n,i(r,u)}return u(t,e),f(t,[{key:"getChildContext",value:function(){return s({},p(Object.getPrototypeOf(t.prototype),"getChildContext",this).call(this),{frigFieldset:{index:this.props.index}})}},{key:"render",value:function(){return d["default"].createElement("div",null,this.props.children)}}]),t}(h["default"]),a.propTypes=h["default"].propTypes,a.defaultProps=h["default"].defaultProps,a.childContextTypes=s({},h["default"].childContextTypes,{frigFieldset:d["default"].PropTypes.object}),l);t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),u=function(e,t){var n=Object.assign({},e);return delete n.text,i["default"].createElement("span",n,e.text(t.frigFieldset.index))};u.propTypes={text:i["default"].PropTypes.func.isRequired},u.contextTypes={frigFieldset:i["default"].PropTypes.object},u.displayName="Frig.FieldsetText",t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsetText=t.fieldset=t.formErrorList=t.submit=t.unboundInput=t.input=t.form=void 0;var o=n(2),i=r(o),u=n(1),a=r(u),l=n(4),s=r(l),f=n(5),p=r(f),c=n(9),d=r(c),y=n(10),h=r(y),m=n(11),v=r(m),b=n(13),g=r(b);t.form=i["default"].createFactory(a["default"]),t.input=i["default"].createFactory(s["default"]),t.unboundInput=i["default"].createFactory(p["default"]),t.submit=i["default"].createFactory(d["default"]),t.formErrorList=i["default"].createFactory(h["default"]),t.fieldset=i["default"].createFactory(v["default"]),t.fieldsetText=i["default"].createFactory(g["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),s=r(l);e.exports=function(e){var t,n;return n=t=function(t){function n(){var e,t,r,u;o(this,n);for(var a=arguments.length,l=Array(a),s=0;a>s;s++)l[s]=arguments[s];return t=r=i(this,(e=Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.displayName="Frig.HigherOrderComponents.Boolean",u=t,i(r,u)}return u(n,t),a(n,[{key:"componentWillMount",value:function(){this._normalizeValue(this.props)}},{key:"componentWillReceiveProps",
value:function(e){this._normalizeValue(e)}},{key:"_normalizeValue",value:function(e){var t=e.value;t!==this.props.offValue&&t!==this.props.onValue&&this._change(null!=t,{setModified:!1})}},{key:"_change",value:function(e){for(var t,n=e?this.props.onValue:this.props.offValue,r=arguments.length,o=Array(r>1?r-1:0),i=1;r>i;i++)o[i-1]=arguments[i];(t=this.props).onChange.apply(t,[n].concat(o))}},{key:"render",value:function(){var t=Object.assign({},this.props,{ref:"child",value:this.props.value===this.props.onValue,onChange:this._change.bind(this)});return s["default"].createElement(e,t)}}]),n}(s["default"].Component),t.propTypes={value:s["default"].PropTypes.any,onChange:s["default"].PropTypes.func.isRequired,onValue:s["default"].PropTypes.any.isRequired,offValue:s["default"].PropTypes.any.isRequired},t.defaultProps={onValue:!0,offValue:!1},n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),s=r(l),f=n(17),p=r(f);e.exports=function(e){var t=e.prototype.displayName;return function(n){function r(){o(this,r);var e=i(this,Object.getPrototypeOf(r).call(this));return e.state={focused:!1},e.displayName="Frig.HigherOrderComponents.Focusable("+t+")",e._onDocumentClick=e._onDocumentClick.bind(e),e._onFocus=e._onFocus.bind(e),e}return u(r,n),a(r,[{key:"componentDidMount",value:function(){window.addEventListener("click",this._onDocumentClick),window.addEventListener("focus",this._onFocus,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._onDocumentClick),window.removeEventListener("focus",this._onFocus,!0)}},{key:"_onDocumentClick",value:function(e){this.setState({focused:this._containsDOMElement(e.target)})}},{key:"_onFocus",value:function(){this.setState({focused:this._containsDOMElement(document.activeElement)})}},{key:"_containsDOMElement",value:function(e){var t=p["default"].findDOMNode(this);return t===e||t.contains(e)}},{key:"render",value:function(){var t=Object.assign({},this.props,{focused:this.state.focused});return s["default"].createElement(e,t)}}]),r}(s["default"].Component)}},function(e,n){e.exports=t}])});